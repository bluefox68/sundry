# 概述
  为了提高运行速度，现代浏览器一般采用即时编译。即用到哪一行就编译哪一行，并且把编译结果缓存，这样整个程序的运行速度能得到显著提升。

# JS的解释阶段
 即将源代码转为机器码的过程。

 这一过程又包括：
 1.读取代码，进行词法分析，将代码分解为词元。
 2.对词元进行语法分析，将词元整理成语法树。
 3.使用翻译器将语法树转为字节码。
 4.使用字节码解释器，将字节码转为机器码。

# JS的预处理阶段
 1.分号补全。
 2.变量提升。

# JS的执行阶段
  JS引擎是线程，它在执行时，有一个调用栈和一个任务队列。调用栈里面是一层层的执行上下文；而任务队列里面是一个个的回调函数。JS引擎在执行代码时会在调用栈中创建相应执行上下文，然后执行相应的代码,碰到异步操作，其会将它交给浏览器的相应处理模块进行处理，待浏览器的相应处理模块处理完后，将异步操作的回调函数加到任务队列中，然后在JS引擎执行完调用栈中的执行上下文内容时，回过头来查看并执行任务队列中的代码。

  1.执行上下文：
     在首次载入脚本的时候创建全局执行上下文，并压入栈顶，然后在每次进入其他作用域的时候创建对应的上下文，并压入栈顶。当对应上下文执行完毕后，就弹出栈顶(注:全局执行上下文不可弹出)，并进行垃圾回收(注:有变量被引用的时候不可进行垃圾回收，即存在闭包时，不能进行垃圾回收)。

  2.变量对象：
  3.作用域链:先子后父直到全局作用域。
  4.this:执行当前执行环境。

## 调用栈
## 任务队列

# 回收阶段

## 回收机制
1.标记清除：
2.引用计数：

## GC的缺陷及其优化策略

### 缺陷
由于Javascript的GC在100ms甚至以上，而当GC时，会停止响应其他操作。这对一般的应用还好，但对于JS游戏，动画对连贯性要求比较高的应用，就麻烦了。

### 优化策略(浏览器所要做的，不需要开发者来做)

分代回收：
通过区分“临时”与“持久”对象。

1.多回收“临时对象”区
2.少回收“持久对象”区
3.减少每次需遍历的对象，从而减少每次GC的耗时.


详见：
  http://www.cnblogs.com/TomXu/archive/2012/01/12/2308594.html
  https://zhuanlan.zhihu.com/p/26229293
